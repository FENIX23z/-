<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Word Cup</title>
    <link rel="stylesheet" href="../css/main.css">
</head>
<body>
    <header>
        <h1>Verano 2025</h1>
        <p>Se que aun no salieron todos los op de esta temporada pero no cabenüëç<br><br>Hecho por marcosplpp</p>
    </header>

    <div class="container" id="app">
        <div class="round-banner">
            <span id="current-round">Ronda 1</span>
            <div class="progress-container">
                <label for="pairs-progress">Progreso Turnos:</label>
                <progress id="pairs-progress" max="100" value="0"></progress>
                <span id="pairs-text">Turnos: 1 / 3</span>
            </div>
            <div class="progress-container">
                <label for="rounds-progress">Progreso Rondas:</label>
                <progress id="rounds-progress" max="100" value="0"></progress>
                <span id="rounds-text">Rondas totales: 1 / 3</span>
            </div>
            <span id="videos-remaining">Videos restantes: 6</span>
        </div>
        <div id="round-info" class="round-info"></div>
        <div id="round" class="video-container"></div>
        <div id="winner" class="winner"></div>
        <div id="status" class="status"></div>
    </div>

    <script>
        const videos = [
  "https://www.youtube.com/embed/ciFvLHCThdg?si=J9JfplnWvoRpRoTG",
  "https://www.youtube.com/embed/L9YhOussuh8?si=wwW2txcue335mR5Z",
  "https://www.youtube.com/embed/QEHlMHce05M?si=_0K2TDjdeyQHsTa_",
  "https://www.youtube.com/embed/HRo9bea4_io?si=ue6Vbhxo_D5V2bkQ",
  "https://www.youtube.com/embed/-Bdqz9qWD2Q?si=M6R-GK3BTw-zfcuF",
  "https://www.youtube.com/embed/VOdmjxK8QGQ?si=KUgs1YlAtvWMzvPW",
  "https://www.youtube.com/embed/L_BFuj8B0jY?si=mtu7IvSyEdPcgqt7",
  "https://www.youtube.com/embed/w_qoJn4-DUQ?si=DhEpT5Ltu_smshTe",
  "https://www.youtube.com/embed/rFQuAWU6MzI?si=hF86EnniMR3TG7rj",
  "https://www.youtube.com/embed/xBQePsKtiDE?si=IFsGO0a6cqAhPrlc",
  "https://www.youtube.com/embed/_SpiB2tqgcg?si=ZvdtjikiM-jJfJ01",
  "https://www.youtube.com/embed/fu8Z_vVYuNg?si=xKLNJ4HKAplPn_sn",
  "https://www.youtube.com/embed/LxUeFYhLE0U?si=Ymp66tkU58tuxZJa",
  "https://www.youtube.com/embed/VWbhpovWyE8?si=WOaPU9ftrH6-iICu",
  "https://www.youtube.com/embed/WZ-xST_J04g?si=6rvXvPd6r7fojkPB",
  "https://www.youtube.com/embed/TxzfhanFwHI?si=lp_y9j5bUQ5ilguf",
  "https://www.youtube.com/embed/gr73cn_ny3k?si=BAbLIzhmXIB8jQuZ",
  "https://www.youtube.com/embed/UpbWNBDQ4TQ?si=ZoB13VbRsDgiDR5n",
  "https://www.youtube.com/embed/T2dF1HIVEZs?si=xFAnrBbIo9o-p_lq",
  "https://www.youtube.com/embed/HbocaCxe5gU?si=KGty9h8L-VyZfx-C",
  "https://www.youtube.com/embed/8WLNNu78mUk?si=J-plWsB0DRLqV0AS",
  "https://www.youtube.com/embed/OOmuZxXI4lU?si=foRMUEaeWdIw2gSf",
  "https://www.youtube.com/embed/5cevONCM6p4?si=VNRHyQKKGr4coA7J",
  "https://www.youtube.com/embed/RhYMhoPx0O4?si=ttB5ZDII3222GT-m",
  "https://www.youtube.com/embed/X3yirXygazg?si=NNjwR0-k8gJwbTna",
  "https://www.youtube.com/embed/YDOARwO2SNk?si=kLlvawDTwU_ghsY-",
  "https://www.youtube.com/embed/HsgEZJbp58c?si=ONpbZQmE0QnzWnpn",
  "https://www.youtube.com/embed/BLX7qZwt--w?si=YwFoh9sABU5ciSwA",
  "https://www.youtube.com/embed/4804e25aGgg?si=S1pYdti_Ncn6TkJH",
  "https://www.youtube.com/embed/_Ki5aP9DBYw?si=U03ylcUNguiPA_GY",
  "https://www.youtube.com/embed/Jgo_Rh5tbVs?si=zntPgAPHl-988JHa",
  "https://www.youtube.com/embed/i0XigEENjpM?si=0h0QU9zZzqkCAkyO",
  "https://www.youtube.com/embed/sUP7rjlcWkY?si=0XaMlIrkh9xJ3CjK",
  "https://www.youtube.com/embed/8dky0A7Gx1c?si=uLADAbmRWNCuD1ip",
  "https://www.youtube.com/embed/Mes1XCDZYTo?si=NRgHCzCtzxeJJAAB",
  "https://www.youtube.com/embed/-_lYCBqyNYo?si=ykbYcMPhOD4BWbbp",
  "https://www.youtube.com/embed/K5T_aKoN31Q?si=CzdEimp_PsQ_kvMJ",
  "https://www.youtube.com/embed/SJxVzZy_hF8?si=-oLu7pPAoMJLsjql",
  "https://www.youtube.com/embed/xmNorNQsp40A?si=cieqJ4TOBVCue6_t",
  "https://www.youtube.com/embed/ZWjbvYWUMHo?si=RI5dr-_qSaAVwDWG",
  "https://www.youtube.com/embed/l5S0JhqULAU?si=ljuafg35Gqk6Vlx5",
  "https://www.youtube.com/embed/TpJvHjyITMQ?si=-vofC3Wq0_VeSY1k",
  "https://www.youtube.com/embed/RVOwhB5wEkA?si=lmknv6tWV5mtFax0",
  "https://www.youtube.com/embed/3u8JxBtxt5k?si=b2WySO5rOyE4rNNn",
  "https://www.youtube.com/embed/kHfGSs6A3xU?si=8npH6rVZUuxYeDgN",
  "https://www.youtube.com/embed/JZbUnWndHWk?si=2KqenBv9LUlUzXhZ",
  "https://www.youtube.com/embed/rV_lQGGtPt0?si=7aVmdY2AbPr8fB3l",
  "https://www.youtube.com/embed/MM5sYPakr7k?si=0V4HSu8dGNWqPcV9",
  "https://www.youtube.com/embed/Y9X49sAp-M8?si=sxfhTfQ6905QHsbb",
  "https://www.youtube.com/embed/HNYp4T0kMNU?si=ousBRFYeQm9wbgj6",
  "https://www.youtube.com/embed/K40kD2uUxsw?si=fXmNPaKi4BP4YaSb",
  "https://www.youtube.com/embed/d5Jc864jl7w?si=axju9wy-xQKp6VZa",
  "https://www.youtube.com/embed/UP7la6a1H1g?si=8qq3GBCT_T2Dz1Uo",
  "https://www.youtube.com/embed/KwokenvxcbM?si=zaa6v8Szy5aAlPaJ",
  "https://www.youtube.com/embed/bL7eFBy5Iz8?si=x86lEySDZ-J1u6tA",
  "https://www.youtube.com/embed/rbruZu_xiDA?si=aIn3q1rAfVESRaYn",
  "https://www.youtube.com/embed/ByuXopW9FTg?si=ibn8bzvLXrAtK8gE",
  "https://www.youtube.com/embed/JxX7WU5DQug?si=FtwkQWFGydYoMcp0",
  "https://www.youtube.com/embed/PjksZ-iUdb8?si=4bMnyGsbNWn2eoj3",
  "https://www.youtube.com/embed/8iesR7f3IwU?si=3KkE0hEFQKNjW8ME",
  "https://www.youtube.com/embed/R3Ab2YGGq8Q?si=PHlcTpXHnObcxVhR",
  "https://www.youtube.com/embed/9WBMl0AYluc?si=Qlj7E9lGgd_AS9Sf",
  "https://www.youtube.com/embed/lGSdTT5XW_s?si=FWfv9Toq_yEZXytA",
  "https://www.youtube.com/embed/63MdWK5-Ogk?si=J9TYSDJOrMGwNgEl"
        ];

        const app = document.getElementById('app');
        const roundContainer = document.getElementById('round');
        const winnerContainer = document.getElementById('winner');
        const statusContainer = document.getElementById('status');
        const currentRoundElement = document.getElementById('current-round');
        const videosRemainingElement = document.getElementById('videos-remaining');
        const pairsProgressElement = document.getElementById('pairs-progress');
        const roundsProgressElement = document.getElementById('rounds-progress');
        const pairsTextElement = document.getElementById('pairs-text');
        const roundsTextElement = document.getElementById('rounds-text');

        let roundNumber = 1;
        let totalRounds = Math.ceil(Math.log2(videos.length));
        let pairsInCurrentRound = 1;
        let totalPairsInRound = Math.floor(videos.length / 2);
        const eliminatedVideos = [];
        const initialVideosCount = videos.length;

        function updateBanner() {
            currentRoundElement.textContent = `Ronda ${roundNumber}`;
            videosRemainingElement.textContent = `Videos restantes: ${videos.length}`;

            const pairsProgress = totalPairsInRound > 0 ? (pairsInCurrentRound - 1) / totalPairsInRound * 100 : 100;
            pairsProgressElement.value = pairsProgress;
            pairsTextElement.textContent = `Turnos: ${pairsInCurrentRound} / ${totalPairsInRound}`;

            const roundsProgress = (roundNumber - 1) / totalRounds * 100;
            roundsProgressElement.value = roundsProgress;
            roundsTextElement.textContent = `Rondas totales: ${roundNumber} / ${totalRounds}`;

            if (videos.length === 1) {
                pairsProgressElement.value = 100;
                roundsProgressElement.value = 100;
                pairsTextElement.textContent = `Turnos: Completado`;
                roundsTextElement.textContent = `Rondas: Completado`;
            }
        }

        function launchConfeti() {
            const canvas = document.createElement('canvas');
            canvas.id = 'confetti-canvas';
            canvas.style.position = 'fixed';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100%';
            canvas.style.height = '100%';
            canvas.style.pointerEvents = 'none';
            document.body.appendChild(canvas);

            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const confettiPieces = [];
            const colors = ['#FF4500', '#FFA500', '#FFD700', '#FFFFFF'];

            for (let i = 0; i < 100; i++) {
                confettiPieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    size: Math.random() * 10 + 5,
                    speed: Math.random() * 3 + 2,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 5 - 2.5
                });
            }

            function animateConfetti() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                confettiPieces.forEach((piece, index) => {
                    piece.y += piece.speed;
                    piece.rotation += piece.rotationSpeed;

                    ctx.save();
                    ctx.translate(piece.x, piece.y);
                    ctx.rotate(piece.rotation * Math.PI / 180);
                    ctx.fillStyle = piece.color;
                    ctx.fillRect(-piece.size / 2, -piece.size / 2, piece.size, piece.size);
                    ctx.restore();

                    if (piece.y > canvas.height) {
                        confettiPieces[index].y = -piece.size;
                        confettiPieces[index].x = Math.random() * canvas.width;
                    }
                });
                requestAnimationFrame(animateConfetti);
            }

            animateConfetti();
            setTimeout(() => canvas.remove(), 5000);
        }

        function renderRound() {
            roundContainer.innerHTML = '';
            winnerContainer.innerHTML = '';

            if (videos.length === 1) {
                winnerContainer.innerHTML = `
                    <div class="winner-announcement">
                        <h2 class="winner-title">¬°GANADOR DEL TORNEO!</h2>
                        <div class="winner-video">
                            <iframe src="${videos[0]}" allowfullscreen></iframe>
                        </div>
                    </div>
                `;
                currentRoundElement.textContent = `¬°Finalizado!`;
                videosRemainingElement.textContent = `Ganador del torneo.`;
                statusContainer.textContent = `Videos eliminados: ${eliminatedVideos.length}. Videos restantes: 1.`;
                launchConfeti();
                updateBanner();
                return;
            }

            const [video1, video2] = videos.splice(0, 2);

            const container1 = document.createElement('div');
            container1.className = 'video-item';
            container1.innerHTML = `
                <iframe src="${video1}" allowfullscreen onmouseover="this.muted=false" onmouseout="this.muted=true"></iframe>
                <ul>
                    <center><li><span class="select-btn" onclick="selectVideo('${video1}', '${video2}')">Seleccionar este</span></li></center>
                </ul>
            `;

            const container2 = document.createElement('div');
            container2.className = 'video-item';
            container2.innerHTML = `
                <iframe src="${video2}" allowfullscreen onmouseover="this.muted=false" onmouseout="this.muted=true"></iframe>
                <ul>
                    <center><li><span class="select-btn" onclick="selectVideo('${video2}', '${video1}')">Seleccionar este</span></li></center>
                </ul>
            `;

            roundContainer.appendChild(container1);
            roundContainer.appendChild(container2);
        }

        function selectVideo(selected, eliminated) {
            videos.push(selected);
            eliminatedVideos.push(eliminated);
            pairsInCurrentRound++;

            if (pairsInCurrentRound > totalPairsInRound) {
                roundNumber++;
                pairsInCurrentRound = 1;
                totalPairsInRound = Math.floor(videos.length / 2);
            }

            updateBanner();
            renderRound();
        }

        updateBanner();
        renderRound();
    </script>
    <a href="../index.html" class="circle-btn"></a>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9385c5281e8cbfec',t:'MTc0NjAwMjgwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>
