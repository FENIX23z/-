<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Word Cup</title>
    <link rel="stylesheet" href="../css&jh/main.css">
</head>
<body>
    <header>
        <h1>Clips El_Luiskis</h1>
        <p>Hay clips de hasta un año<br><br>Hecho por marcosplpp</p>
    </header>

    <div class="container" id="app">
        <div class="round-banner">
            <span id="current-round">Ronda 1</span>
            <div class="progress-container">
                <label for="pairs-progress">Progreso Turnos:</label>
                <progress id="pairs-progress" max="100" value="0"></progress>
                <span id="pairs-text">Turnos: 1 / 3</span>
            </div>
            <div class="progress-container">
                <label for="rounds-progress">Progreso Rondas:</label>
                <progress id="rounds-progress" max="100" value="0"></progress>
                <span id="rounds-text">Rondas totales: 1 / 3</span>
            </div>
            <span id="videos-remaining">Videos restantes: 6</span>
        </div>
        <div id="round-info" class="round-info"></div>
        <div id="round" class="video-container"></div>
        <div id="winner" class="winner"></div>
        <div id="status" class="status"></div>
    </div>

    <script>
        const videos = [
    "https://www.youtube.com/embed/eIv-FZ0Fk7E?si=udgauaKA4hcSq00m",
    "https://www.youtube.com/embed/vIC9_N0Jl28?si=BG0mUoFwXK12USXu",
    "https://www.youtube.com/embed/Y8gKxbbI3Kw?si=7V9tL1OUfuhmkN9e",
    "https://www.youtube.com/embed/PY-QBiSLwXI?si=XzrQ5lgO-5MfUxLe",
    "https://www.youtube.com/embed/nUGJhnJUehE?si=NjIeaVB9vneC3Pyi",
    "https://www.youtube.com/embed/3DqNwRj2fLU?si=lcol6Ya2vzg26nh5",
    "https://www.youtube.com/embed/mPnf1hvCUi8?si=okp0NpMZbDQ9eOSg",
    "https://www.youtube.com/embed/OqIqmb9U1j0?si=8xa67kzrZMUOimyv",
    "https://www.youtube.com/embed/TU5_9NhR8Ng?si=HJ3vR680BC1aMDfh",
    "https://www.youtube.com/embed/-3kKdE3q_-M?si=qOqnK6aWg6rgs_lQ",
    "https://www.youtube.com/embed/GfqXEI1udQM?si=wj2lR0mtgBF-8Zhz",
    "https://www.youtube.com/embed/nQxnGPEA-mA?si=cKlUt3JcbEl1IEGo",
    "https://www.youtube.com/embed/87XgzoAU5yo?si=mh6sa73Bb9PmzTNQ",
    "https://www.youtube.com/embed/C62EZnrDlQQ?si=WiUljgeUKtwZDe8s",
    "https://www.youtube.com/embed/O047uQz_tZI?si=dU0LZpGvXZETH54l",
    "https://www.youtube.com/embed/LUph3HaBxv4?si=VIoRkHytB7TT66Wc",
    "https://www.youtube.com/embed/tPs7_D5qrTw?si=x3MQC8FEy41auQfN",
    "https://www.youtube.com/embed/-fS1GUkzWwQ?si=xlu3fxiFAbU5Wh6p",
    "https://www.youtube.com/embed/xjzbEiY5F7k?si=wtvqaRG3wDQiDBge",
    "https://www.youtube.com/embed/cooyZzlSGO0?si=30tQ_xl0AxEh-edl",
    "https://www.youtube.com/embed/R7qOZMO7VGk?si=qUjsW057xIjuJ7A_",
    "https://www.youtube.com/embed/bOgXMH0duMU?si=_Naz4s0yMpbBvugI",
    "https://www.youtube.com/embed/sO51Ayq4DkU?si=wzxLWQ_aT4WrzC4n",
    "https://www.youtube.com/embed/r3rFa0GJv68?si=lx9zI6z8I4wm7Y-0",
    "https://www.youtube.com/embed/GbfKxMDhahU?si=T8Oa94JP1_o42rrK",
    "https://www.youtube.com/embed/NxO20DbL_os?si=ii8ow-U6Hvqm39cr",
    "https://www.youtube.com/embed/9ZT3FsOVGjc?si=00Z07TTaWOloO2d_",
    "https://www.youtube.com/embed/eaJJGglMRO8?si=K7syWX5ceq2KhZDv",
    "https://www.youtube.com/embed/nfgWh9Vi3SA?si=8195OuUIPlXof8uS",
    "https://www.youtube.com/embed/tDkNAIQYX48?si=i-6R96Cf59vEYg-Z",
    "https://www.youtube.com/embed/AnzRCIRrOzc?si=IIaPZEdnnthNhLQm",
    "https://www.youtube.com/embed/15qj76RIihc?si=37qrvvbpGhIaoghT",
    "https://www.youtube.com/embed/bcOPkgiyiGg?si=eldsXku8KQ6nb0-0",
    "https://www.youtube.com/embed/spViOYBVMjA?si=qZiNvplMLmugYpLC",
    "https://www.youtube.com/embed/VdIO1MQH4q4?si=WcrhsC2CctYbM9El",
    "https://www.youtube.com/embed/DQZ2K8Yr9Qg?si=c6H9bUTWllfhiGzL",
    "https://www.youtube.com/embed/sAdSMdwYWKA?si=AsWD0RsWVo1VhCh3",
    "https://www.youtube.com/embed/PFIFvjonX9Q?si=POJcLEVOnKxMSA2n",
    "https://www.youtube.com/embed/T_jxyo4tzDk?si=lC9oIWtVrwF_uii9",
    "https://www.youtube.com/embed/78M9LRBH3LM?si=Re2rNa6iRh-lAhW0",
    "https://www.youtube.com/embed/t5b7fQXjrm0?si=JEjJzBI3Sfvd7rlc",
    "https://www.youtube.com/embed/QFyqj5P240I?si=9BBhm6SpByj4nFgr",
    "https://www.youtube.com/embed/-SqfyE_fLU0?si=nJbcArtc8Sa4v5uS",
    "https://www.youtube.com/embed/XTC4Ti7YDAU?si=mOkaSl7oOlbd5DF5",
    "https://www.youtube.com/embed/6tDjFcUfUqA?si=7Shrak-UZBytUiNn",
    "https://www.youtube.com/embed/a6dTz5gRCcE?si=k-Qh29vLmrEwtMVV",
    "https://www.youtube.com/embed/N-96-KZ_IRE?si=Kt5bZbnT9ygktcft",
    "https://www.youtube.com/embed/2LRjbg6ZgVg?si=hj6ZC-9hwIfwwc9u",
    "https://www.youtube.com/embed/r4sFzONYUuw?si=fjxjf9Cua42WlGRo",
    "https://www.youtube.com/embed/CQerF4baI9g?si=Z4IHfCiDjEnl5jJl",
    "https://www.youtube.com/embed/AfBRWuty-yA?si=VxZHPLPDd50E-xRY",
    "https://www.youtube.com/embed/I825tbAowRk?si=ESo4sywHCK8AhLwT",
    "https://www.youtube.com/embed/SS9YdansB3Y?si=MB_LFQ3LBE8a6oXc",
    "https://www.youtube.com/embed/U7x2684x5qw?si=SeWZ_ha8bfeoV0dL",
    "https://www.youtube.com/embed/B92YoYLJ_uc?si=28Z3sOx5CZcYLuty",
    "https://www.youtube.com/embed/g1bJNkCT-uo?si=KIfaOaj72hR4K-Hc",
    "https://www.youtube.com/embed/d2b8d0sYEiM?si=91qbbMd88CLZuRYt",
    "https://www.youtube.com/embed/Mhu9-d2dJDo?si=d7A37FBI9INv-vVi",
    "https://www.youtube.com/embed/EgOxSfqSpZw?si=v3r_3eUGRaU6zKf0",
    "https://www.youtube.com/embed/G4TUXqhzjfE?si=lCUrP95-B5ZoHspm",
    "https://www.youtube.com/embed/E_364JnlA6k?si=led_1hSBUi_ULtiP",
    "https://www.youtube.com/embed/XLmhAOrqDF4?si=-gRk92Q6F8TsMOlE",
    "https://www.youtube.com/embed/BGm8wZ4cDM8?si=hE0kRi1vktOeWUGE",
    "https://www.youtube.com/embed/MifoXdgACMg?si=VUmOR-pRMlrxYu4f"
        ];

        const app = document.getElementById('app');
        const roundContainer = document.getElementById('round');
        const winnerContainer = document.getElementById('winner');
        const statusContainer = document.getElementById('status');
        const currentRoundElement = document.getElementById('current-round');
        const videosRemainingElement = document.getElementById('videos-remaining');
        const pairsProgressElement = document.getElementById('pairs-progress');
        const roundsProgressElement = document.getElementById('rounds-progress');
        const pairsTextElement = document.getElementById('pairs-text');
        const roundsTextElement = document.getElementById('rounds-text');

        let roundNumber = 1;
        let totalRounds = Math.ceil(Math.log2(videos.length));
        let pairsInCurrentRound = 1;
        let totalPairsInRound = Math.floor(videos.length / 2);
        const eliminatedVideos = [];
        const initialVideosCount = videos.length;

        function updateBanner() {
            currentRoundElement.textContent = `Ronda ${roundNumber}`;
            videosRemainingElement.textContent = `Videos restantes: ${videos.length}`;

            const pairsProgress = totalPairsInRound > 0 ? (pairsInCurrentRound - 1) / totalPairsInRound * 100 : 100;
            pairsProgressElement.value = pairsProgress;
            pairsTextElement.textContent = `Turnos: ${pairsInCurrentRound} / ${totalPairsInRound}`;

            const roundsProgress = (roundNumber - 1) / totalRounds * 100;
            roundsProgressElement.value = roundsProgress;
            roundsTextElement.textContent = `Rondas totales: ${roundNumber} / ${totalRounds}`;

            if (videos.length === 1) {
                pairsProgressElement.value = 100;
                roundsProgressElement.value = 100;
                pairsTextElement.textContent = `Turnos: Completado`;
                roundsTextElement.textContent = `Rondas: Completado`;
            }
        }

        function launchConfeti() {
            const canvas = document.createElement('canvas');
            canvas.id = 'confetti-canvas';
            canvas.style.position = 'fixed';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100%';
            canvas.style.height = '100%';
            canvas.style.pointerEvents = 'none';
            document.body.appendChild(canvas);

            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const confettiPieces = [];
            const colors = ['#FF4500', '#FFA500', '#FFD700', '#FFFFFF'];

            for (let i = 0; i < 100; i++) {
                confettiPieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    size: Math.random() * 10 + 5,
                    speed: Math.random() * 3 + 2,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 5 - 2.5
                });
            }

            function animateConfetti() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                confettiPieces.forEach((piece, index) => {
                    piece.y += piece.speed;
                    piece.rotation += piece.rotationSpeed;

                    ctx.save();
                    ctx.translate(piece.x, piece.y);
                    ctx.rotate(piece.rotation * Math.PI / 180);
                    ctx.fillStyle = piece.color;
                    ctx.fillRect(-piece.size / 2, -piece.size / 2, piece.size, piece.size);
                    ctx.restore();

                    if (piece.y > canvas.height) {
                        confettiPieces[index].y = -piece.size;
                        confettiPieces[index].x = Math.random() * canvas.width;
                    }
                });
                requestAnimationFrame(animateConfetti);
            }

            animateConfetti();
            setTimeout(() => canvas.remove(), 5000);
        }

        function renderRound() {
            roundContainer.innerHTML = '';
            winnerContainer.innerHTML = '';

            if (videos.length === 1) {
                winnerContainer.innerHTML = `
                    <div class="winner-announcement">
                        <h2 class="winner-title">¡GANADOR DEL TORNEO!</h2>
                        <div class="winner-video">
                            <iframe src="${videos[0]}" allowfullscreen></iframe>
                        </div>
                    </div>
                `;
                currentRoundElement.textContent = `¡Finalizado!`;
                videosRemainingElement.textContent = `Ganador del torneo.`;
                statusContainer.textContent = `Videos eliminados: ${eliminatedVideos.length}. Videos restantes: 1.`;
                launchConfeti();
                updateBanner();
                return;
            }

            const [video1, video2] = videos.splice(0, 2);

            const container1 = document.createElement('div');
            container1.className = 'video-item';
            container1.innerHTML = `
                <iframe src="${video1}" allowfullscreen onmouseover="this.muted=false" onmouseout="this.muted=true"></iframe>
                <ul>
                    <center><li><span class="select-btn" onclick="selectVideo('${video1}', '${video2}')">Seleccionar este</span></li></center>
                </ul>
            `;

            const container2 = document.createElement('div');
            container2.className = 'video-item';
            container2.innerHTML = `
                <iframe src="${video2}" allowfullscreen onmouseover="this.muted=false" onmouseout="this.muted=true"></iframe>
                <ul>
                    <center><li><span class="select-btn" onclick="selectVideo('${video2}', '${video1}')">Seleccionar este</span></li></center>
                </ul>
            `;

            roundContainer.appendChild(container1);
            roundContainer.appendChild(container2);
        }

        function selectVideo(selected, eliminated) {
            videos.push(selected);
            eliminatedVideos.push(eliminated);
            pairsInCurrentRound++;

            if (pairsInCurrentRound > totalPairsInRound) {
                roundNumber++;
                pairsInCurrentRound = 1;
                totalPairsInRound = Math.floor(videos.length / 2);
            }

            updateBanner();
            renderRound();
        }

        updateBanner();
        renderRound();
    </script>
    <a href="../index.html" class="circle-btn"></a>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9385c5281e8cbfec',t:'MTc0NjAwMjgwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>